# Upstream definitions for Superb Backend services
# Include this file in your nginx.conf http block if you want to reuse upstreams
# Usage: include /path/to/superb-backend-upstreams.conf; (in http block)

# Auth Service - Port 3001
upstream superb_auth_service {
    least_conn;
    server localhost:3001 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

# User Service - Port 3002
upstream superb_user_service {
    least_conn;
    server localhost:3002 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

# Organization Service - Port 3003
upstream superb_organization_service {
    least_conn;
    server localhost:3003 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

# Resource Service - Port 3004
upstream superb_resource_service {
    least_conn;
    server localhost:3004 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

# Admin Service - Port 3005
upstream superb_admin_service {
    least_conn;
    server localhost:3005 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

